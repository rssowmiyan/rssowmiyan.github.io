var HocPortal,isChrome;HocPortal||(HocPortal={});HocPortal.Data||(HocPortal.Data={});HocPortal.UI||(HocPortal.UI={});HocPortal.UI.Controls||(HocPortal.UI.Controls={});HocPortal.UI.Controls.Calendar||(HocPortal.UI.Controls.Calendar={});isChrome=!!window.chrome&&!!window.chrome.webstore;HocPortal.UI.Controls.Calendar.MonthsName={};HocPortal.UI.Controls.Calendar.MonthsName[1]={en:"January",fr:"Janvier"};HocPortal.UI.Controls.Calendar.MonthsName[2]={en:"February",fr:"Février"};HocPortal.UI.Controls.Calendar.MonthsName[3]={en:"March",fr:"Mars"};HocPortal.UI.Controls.Calendar.MonthsName[4]={en:"April",fr:"Avril"};HocPortal.UI.Controls.Calendar.MonthsName[5]={en:"May",fr:"Mai"};HocPortal.UI.Controls.Calendar.MonthsName[6]={en:"June",fr:"Juin"};HocPortal.UI.Controls.Calendar.MonthsName[7]={en:"July",fr:"Juillet"};HocPortal.UI.Controls.Calendar.MonthsName[8]={en:"August",fr:"Août"};HocPortal.UI.Controls.Calendar.MonthsName[9]={en:"September",fr:"Septembre"};HocPortal.UI.Controls.Calendar.MonthsName[10]={en:"October",fr:"Octobre"};HocPortal.UI.Controls.Calendar.MonthsName[11]={en:"November",fr:"Novembre"};HocPortal.UI.Controls.Calendar.MonthsName[12]={en:"December",fr:"Décembre"};HocPortal.Data.CalendarEventTypes={};HocPortal.Data.CalendarEventTypes[1]={en:"House Sitting Day",fr:"Jour de séance de la Chambre",cssClass:"cal-event-house-sitting"};HocPortal.Data.CalendarEventTypes[2]={en:"Committee Meetings",fr:"Réunions de comités",cssClass:"hoc-icon icon-square committee-meeting"};HocPortal.Data.CalendarEventTypes[3]={en:"Parliamentary Diplomacy Events",fr:"Événements de diplomatie parlementaire",cssClass:"hoc-icon icon-triangle pd-event"};HocPortal.Data.CalendarEventTypes[4]={en:"House Publications",fr:"Publications de la Chambre",cssClass:"hoc-icon icon-circle house-publications"};$(document).ready(function(){$(".calendar-year").hide();$(".calendar-control-next").click(function(n){var t,i,r,f,o;n.preventDefault();n.stopPropagation();let u=$(this).closest(".calendar-display"),e=u.find(".hoc-calendar");return t=e.attr("data-month"),i=e.attr("data-year"),t++,t>12&&(t=1,i++),r=t,f=i,r++,r>12&&(r=1,f++),o=getDate(i+"-"+t+"-01"),updateNavigation(u,o),updatetableAttributes(".hoc-calendar",t,i),updatetableAttributes(".hoc-calendar-second",r,f),updatetableAttributes(".hoc-calendar-year",t,i),$(".calendar-control-current-year").text(i),$(".year-month").removeClass("selectedMonth"),$(".year-month").has("a#"+(t-1)).addClass("selectedMonth"),HocPortal.UI.Controls.Calendar.Generate(u,i,t),!1});$(".calendar-control-prev").click(function(n){var f;n.preventDefault();n.stopPropagation();let r=$(this).closest(".calendar-display"),u=r.find(".hoc-calendar");var t=u.attr("data-month"),i=u.attr("data-year"),e=t,o=i;return t--,t<1&&(t=12,i--),f=getDate(i+"-"+t+"-01"),updateNavigation(r,f),updatetableAttributes(".hoc-calendar",t,i),updatetableAttributes(".hoc-calendar-second",e,o),updatetableAttributes(".hoc-calendar-year",t,i),$(".calendar-control-current-year").text(i),$(".year-month").removeClass("selectedMonth"),$(".year-month").has("a#"+(t-1)).addClass("selectedMonth"),HocPortal.UI.Controls.Calendar.Generate(r,i,t),!1});$(".calendar-control-prev-year").click(function(n){var i,t,f;n.preventDefault();n.stopPropagation();let r=$(this).closest(".calendar-display"),u=r.find(".hoc-calendar-year");return i=u.attr("data-month"),t=u.attr("data-year"),t--,f=getDate(t+"-"+i+"-01"),updateNavigation(r,f),updatetableAttributes(".hoc-calendar-year",i,t),$(".calendar-control-current-year").text(t),!1});$(".calendar-control-next-year").click(function(n){var i,t,f;n.preventDefault();n.stopPropagation();let r=$(this).closest(".calendar-display"),u=r.find(".hoc-calendar-year");return i=u.attr("data-month"),t=u.attr("data-year"),t++,f=getDate(t+"-"+i+"-01"),updateNavigation(r,f),updatetableAttributes(".hoc-calendar-year",i,t),$(".calendar-control-current-year").text(t),!1});$(".calendar-control-current-month").click(function(){if($(".calendar-month").is(":visible")){let n=$(this).closest(".calendar-display").find(".hoc-calendar-year");$(".calendar-month").hide();$(".calendar-year").show();for(let n=0;isChrome&&$(".year-month").length>12&&n<12;n++)$(".year-month")[0].remove();setTimeout(function(){n.addClass("Show")},1)}});$(".calendar-control-current-year").click(function(){$(".calendar-year").is(":visible")&&($(".calendar-year").hide(),$(".calendar-month").show(),$calendar.removeClass("Show"))});$(".year-month").click(function(n){if(n.preventDefault(),n.stopPropagation(),!$(this).find(".year-Calendar-month").hasClass("disabled")){let t=$(this).closest(".calendar-display").find(".hoc-calendar-year");t.addClass("Show");var r=parseInt(n.currentTarget.firstElementChild.id)+1,i=t.attr("data-year");return t.attr("data-month",r),t.attr("data-year",i),$(".calendar-control-current-year").text(i),HocPortal.UI.Controls.Calendar.Generate($(this).closest(".calendar-display"),i,r),$(".calendar-year").hide(),$(".calendar-month").show(),$(".year-month").removeClass("selectedMonth"),$(this).addClass("selectedMonth"),updatetableAttributes(".hoc-calendar",r,i),!1}})});let updatetableAttributes=function(n,t,i){let r=$(n);r.attr("data-month",t);r.attr("data-year",i)},updateNavigation=function(n,t){var u=getDate($(n).attr("data-calendar-start")),f=getDate($(n).attr("data-calendar-end")),i=getDate(u.getFullYear()+"-"+(u.getMonth()+1)+"-01"),r=getDate(f.getFullYear()+"-"+(f.getMonth()+1)+"-01");let e=$(n).find(".calendar-control-prev"),o=$(n).find(".calendar-control-prev-year"),s=$(n).find(".calendar-control-next"),h=$(n).find(".calendar-control-next-year");e.toggleClass("disabled",t<=i);o.toggleClass("disabled",t<=i);s.toggleClass("disabled",t>=r);h.toggleClass("disabled",t>=r);t<=i?$(n).find(".year-Calendar-month").filter(function(){return $(this).attr("id")<i.getMonth()}).toggleClass("disabled",!0):t>=r?$(n).find(".year-Calendar-month").filter(function(){return $(this).attr("id")>r.getMonth()}).toggleClass("disabled",!0):$(n).find(".year-Calendar-month.disabled").toggleClass("disabled",!1)},getDate=function(n){var t=n.substr(0,10).split("-");return new Date(t[0],t[1]-1,t[2],0,0,0,0)};HocPortal.UI.Controls.Calendar.GetMonthWeek=function(n){var t=new Date(n.getFullYear(),n.getMonth(),1).getDay();return Math.ceil((n.getDate()+t)/7)};HocPortal.UI.Controls.Calendar.getEventsForDate=function(n){return HocPortal.Data.CalendarData[n.getFullYear()]?HocPortal.Data.CalendarData[n.getFullYear()][moment(n).format("YYYY-MM-DDT00:00:00")]:null};HocPortal.UI.Controls.Calendar.Generate=function(n,t,i){var e=i+1,a=t,v,y,l,o,s,r;e>12&&(e=1,a++);var f=$(n).attr("data-language-code"),w=f==="en"?HocPortal.UI.Controls.Calendar.MonthsName[i].en:HocPortal.UI.Controls.Calendar.MonthsName[i].fr,b=f==="en"?HocPortal.UI.Controls.Calendar.MonthsName[e].en:HocPortal.UI.Controls.Calendar.MonthsName[e].fr;$(n).find(".calendar-control-current-month").html(w+" "+t);$(n).find(".calendar-control-current-month-second").html(b+" "+a);let h=$(n).find(".tbl-Body-Month");var c=getDate($(n).attr("data-current-date")),p=getDate($(n).attr("data-selected-date")),k=new Date(t,i-1,1);h[0].innerHTML="";let u=k;for(v=1;v<7;v++){for(y=document.createElement("tr"),l=0;l<7;l++){if(o=document.createElement("td"),moment(u).day()===l&&u.getMonth()+1===i){if(s=HocPortal.UI.Controls.Calendar.getEventsForDate(u),s){let t=document.createElement("a");$(t).attr("href",$(n).find(".hoc-calendar").attr("data-url")+"/"+moment(u).format("YYYY-MM-DD"));$(t).html('<div class="date">'+moment(u).format("D")+"<\/div>");let i=document.createElement("div");if($(i).addClass("hoc-cal-event-icons"),s.indexOf(1)>-1){r=f==="en"?HocPortal.Data.CalendarEventTypes[1].en:HocPortal.Data.CalendarEventTypes[1].fr;$(o).addClass(HocPortal.Data.CalendarEventTypes[1].cssClass);s.length!==1||u.getTime()===c.getTime()?$(t).removeClass("not-active"):$(t).addClass("not-active");let n=document.createElement("span");$(n).attr("class","sr-only");$(n).html(r);$(t).append(n)}s.indexOf(2)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[2].en:HocPortal.Data.CalendarEventTypes[2].fr,$(i).append('<i class="'+HocPortal.Data.CalendarEventTypes[2].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));s.indexOf(3)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[3].en:HocPortal.Data.CalendarEventTypes[3].fr,$(i).append('<i class="'+HocPortal.Data.CalendarEventTypes[3].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));s.indexOf(4)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[4].en:HocPortal.Data.CalendarEventTypes[4].fr,$(i).append('<i class="'+HocPortal.Data.CalendarEventTypes[4].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));$(t).append(i);$(o).append(t)}else $(o).html('<div class="date">'+moment(u).format("D")+"<\/div>");u.getTime()===p.getTime()&&$(o).addClass("selectedDay");u.getTime()===c.getTime()&&$(o).addClass("currentDay");u.setDate(u.getDate()+1)}$(y).append(o)}if(h[0].append(y),u.getMonth()+1!==i)break}if(h.length>1){h[1].innerHTML="";let i=new Date(a,e-1,1),t=i;for(let i=1;i<7;i++){let i=document.createElement("tr");for(let u=0;u<7;u++){let o=document.createElement("td");if(moment(t).day()===u&&t.getMonth()+1===e){let i=HocPortal.UI.Controls.Calendar.getEventsForDate(t);if(i){let u=document.createElement("a");$(u).attr("href",$(n).find(".hoc-calendar").attr("data-url")+"/"+moment(t).format("YYYY-MM-DD"));$(u).html('<div class="date">'+moment(t).format("D")+"<\/div>");let e=document.createElement("div");if($(e).addClass("hoc-cal-event-icons"),i.indexOf(1)>-1){let r=f==="en"?HocPortal.Data.CalendarEventTypes[1].en:HocPortal.Data.CalendarEventTypes[1].fr;$(o).addClass(HocPortal.Data.CalendarEventTypes[1].cssClass);i.length!==1||t.getTime()===c.getTime()?$(u).removeClass("not-active"):$(u).addClass("not-active");let n=document.createElement("span");$(n).attr("class","sr-only");$(n).html(r);$(u).append(n)}i.indexOf(2)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[2].en:HocPortal.Data.CalendarEventTypes[2].fr,$(e).append('<i class="'+HocPortal.Data.CalendarEventTypes[2].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));i.indexOf(3)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[3].en:HocPortal.Data.CalendarEventTypes[3].fr,$(e).append('<i class="'+HocPortal.Data.CalendarEventTypes[3].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));i.indexOf(4)>-1&&(r=f==="en"?HocPortal.Data.CalendarEventTypes[4].en:HocPortal.Data.CalendarEventTypes[4].fr,$(e).append('<i class="'+HocPortal.Data.CalendarEventTypes[4].cssClass+'"><\/i><span class="sr-only">'+r+"<\/span>"));$(u).append(e);$(o).append(u)}else $(o).html('<div class="date">'+moment(t).format("D")+"<\/div>");t.getTime()===p.getTime()&&$(o).addClass("selectedDay");t.getTime()===c.getTime()&&$(o).addClass("currentDay");t.setDate(t.getDate()+1)}$(i).append(o)}if(h[1].append(i),t.getMonth()+1!==e)break}}}